# Dobbles.AI Website

Personal brand site + private productivity hub for Ed Dobbin. Public marketing pages showcase AI/analytics executive portfolio. Authenticated users access a morning dashboard hub.

## Architecture

Two-surface app in a single React SPA:

**Public site** — `/`, `/about`, `/projects`, `/projects/:slug`, `/contact`
Marketing pages with portfolio projects, leadership principles, and contact. Renders `SiteNav` + `SiteFooter` chrome.

**Private hub** — `/hub` (behind `ProtectedRoute`)
Morning dashboard: greeting, launch buttons, recipe carousel, vocab, facts, headlines. Own header/footer, no shared nav with public site.

**Auth** — Supabase magic link (email OTP). Login at `/login`. `AuthProvider` wraps the entire app. `ProtectedRoute` redirects unauthenticated users to `/login`.

## Tech Stack

| Layer | Tech |
|-------|------|
| Framework | React 18 + TypeScript |
| Build | Vite (port 8080) |
| Styling | Tailwind CSS 3 + shadcn/ui (Radix primitives) |
| Routing | react-router-dom v6 |
| State | TanStack React Query (configured, minimal use so far) |
| Auth/DB | Supabase (`@supabase/supabase-js`) |
| Icons | lucide-react |
| Charts | recharts (available, not yet used on public pages) |
| Origin | Lovable scaffold — `lovable-tagger` in dev deps |

## Key Paths

```
src/
  App.tsx                    # Route definitions
  main.tsx                   # Entry point
  index.css                  # Tailwind config + CSS custom properties (HSL tokens)
  auth/
    AuthProvider.tsx          # Supabase session context
    ProtectedRoute.tsx        # Auth gate wrapper
  pages/
    Home.tsx                  # Landing page — hero, projects grid, principles, CTA
    About.tsx                 # Bio / background
    Projects.tsx              # Project listing
    ProjectDetail.tsx         # Individual project deep-dive
    Contact.tsx               # Contact form / info
    Login.tsx                 # Supabase magic link login
    Hub.tsx                   # Private morning dashboard
    NotFound.tsx              # 404
  components/
    site/SiteNav.tsx          # Public nav bar (fixed, blur backdrop)
    site/SiteFooter.tsx       # Public footer
    LaunchButtons.tsx         # Hub quick-launch grid
    RecipeCard.tsx            # Hub recipe display
    VocabBox.tsx              # Hub vocabulary widget
    FactBox.tsx               # Hub random fact widget
    HeadlinesBox.tsx          # Hub news headlines
    ui/                       # shadcn/ui primitives (do not edit directly)
  data/
    projects.ts               # Project content — slug, name, tagline, outcomes, roadmap
    mockData.ts               # Hub mock/seed data
  integrations/supabase/
    client.ts                 # Supabase client init (auto-generated, do not edit)
    types.ts                  # Supabase DB types (auto-generated)
```

## Design System

Fonts loaded in `index.css`:
- **Headings**: Instrument Serif (italic variant available)
- **Body/UI**: DM Sans (300–600 weights)

CSS custom properties are in HSL format in `index.css` `:root` and `.dark` blocks. Both light and dark themes defined. The site currently renders dark by default.

Brand colors follow `~/.claude/CLAUDE.md` Section 5 — coral red primary (`--primary`), navy secondary, off-white text on dark backgrounds. See `.claude/BRAND.md` for full spec.

shadcn/ui components live in `src/components/ui/`. These are generated — modify via `components.json` config, not by hand-editing.

## Commands

```bash
npm run dev        # Start dev server on :8080
npm run build      # Production build
npm run preview    # Preview production build
npm run lint       # ESLint
```

## Supabase

- Project URL: `https://xyulaaievgvkfrwwhgrw.supabase.co`
- Auth method: Email OTP (magic link)
- Client initialized in `src/integrations/supabase/client.ts` (auto-generated by Lovable — do not edit)
- Config in `supabase/config.toml`

## Conventions

- Path alias: `@/` maps to `src/`
- Project data is static in `src/data/projects.ts` — no CMS or API. Add/edit projects there.
- Hub fetches external APIs at runtime (TheMealDB for recipes, etc.) — no backend needed.
- Public pages use `SiteNav`/`SiteFooter`. Hub has its own chrome — don't mix them.
- Tailwind utility classes preferred over custom CSS. Use `font-serif` / `font-sans` for type hierarchy.
- Status badges on projects use the `STATUS_COLORS` map in `Home.tsx`.

## What Not to Do

- Don't edit files in `src/components/ui/` directly — these are shadcn/ui generated
- Don't edit `src/integrations/supabase/client.ts` — auto-generated
- Don't hardcode Supabase keys elsewhere — they're already in the client file
- Don't add Node/Express backend — this is a static SPA deployed via Lovable/Vite
- Don't introduce new font families — stick with Instrument Serif + DM Sans
